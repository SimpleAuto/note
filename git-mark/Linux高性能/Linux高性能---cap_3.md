# TCP/IP协议族---3

## 学习笔记3

### ARP协议: 实现任意网络层地址到物理地址的转换,从IP地址到MAC地址
### 工作原理: 主机向自己所在的网络广播一个ARP请求,该请求包含目标机器的网络地址

ARP.png

字母      |  含义   |  作用
-------- | -------- | -------
A        |  硬件类型            |  定义物理地址的类型,值为1表示MAC地址
B        |  协议类型            |  要映射的协议地址类型,表示IP地址
C        |  硬件地址长度        |  单位是字节,长度为6(MAC地址)
D        |  协议地址长度        |  单位是字节,长度为4(IP地址)
E        |  操作               |  4种操作类型,ARP请求(1)/应答(2) RARP请求(1)/应答(2)
F        |  发送端以太网地址    |  发送方的以太网地址
G        |  发送端IP地址       |  发送方的IP地址
H        |  目的端以太网地址    |  接收方的以太网地址
I        |  目的端IP地址       |  接收方的IP地址

APR服务会维护一个高速缓存,其中会包含经常访问(比如网关地址)或最近访问的机器的IP地址到物理地址的映射,可以避免重复的ARP请求,提高了发送数据报的数据

使用tcpdump抓包可以观察到ARP的通信过程(等待一台机器进行测试),
